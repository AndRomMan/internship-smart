{"version":3,"sources":["input-validating.js"],"names":["PATTERN","keyCodeProcessing","evt","code","keyCode","pos","selectionStart","preventDefault","i","def","replace","val","value","newValue","a","length","charAt","indexOf","slice","reg","substr","RegExp","test","type","inputProcessing","input","addEventListener","inputPhoneHolder","inputPhone","document","querySelector","window"],"mappings":"AACA;;AAEA,CAAC,YAAY;AACX,MAAIA,OAAO,GAAG,mBAAd;;AAEA,WAASC,iBAAT,CAA2BC,GAA3B,EAAgC;AAC9B,QAAIA,GAAG,CAACC,IAAJ,KAAa,KAAjB,EAAwB;AACtB;AACD;;AAED,QAAIC,OAAJ;;AACA,QAAIF,GAAG,CAACE,OAAR,EAAiB;AACfA,MAAAA,OAAO,GAAGF,GAAG,CAACE,OAAd;AACA,UAAIC,GAAG,GAAG,KAAKC,cAAf;AACA,UAAID,GAAG,GAAG,CAAV,EAAaH,GAAG,CAACK,cAAJ;AACb,UAAIC,CAAC,GAAG,CAAR;AACA,UAAIC,GAAG,GAAGT,OAAO,CAACU,OAAR,CAAgB,KAAhB,EAAuB,EAAvB,CAAV;AACA,UAAIC,GAAG,GAAG,KAAKC,KAAL,CAAWF,OAAX,CAAmB,KAAnB,EAA0B,EAA1B,CAAV;AACA,UAAIG,QAAQ,GAAGb,OAAO,CAACU,OAAR,CAAgB,QAAhB,EAA0B,UAAUI,CAAV,EAAa;AACpD,eAAON,CAAC,GAAGG,GAAG,CAACI,MAAR,GAAiBJ,GAAG,CAACK,MAAJ,CAAWR,CAAC,EAAZ,KAAmBC,GAAG,CAACO,MAAJ,CAAWR,CAAX,CAApC,GAAoDM,CAA3D;AACD,OAFc,CAAf;AAGAN,MAAAA,CAAC,GAAGK,QAAQ,CAACI,OAAT,CAAiB,GAAjB,CAAJ;;AACA,UAAIT,CAAC,KAAK,CAAC,CAAX,EAAc;AACZ,YAAIA,CAAC,GAAG,CAAR,EAAW;AACTA,UAAAA,CAAC,GAAG,CAAJ;AACD;;AACDK,QAAAA,QAAQ,GAAGA,QAAQ,CAACK,KAAT,CAAe,CAAf,EAAkBV,CAAlB,CAAX;AACD;;AACD,UAAIW,GAAG,GAAGnB,OAAO,CAACoB,MAAR,CAAe,CAAf,EAAkB,KAAKR,KAAL,CAAWG,MAA7B,EACPL,OADO,CACC,KADD,EACQ,UAAUI,CAAV,EAAa;AAC3B,eAAO,WAAWA,CAAC,CAACC,MAAb,GAAsB,GAA7B;AACD,OAHO,EAIPL,OAJO,CAIC,QAJD,EAIW,MAJX,CAAV;AAKAS,MAAAA,GAAG,GAAG,IAAIE,MAAJ,CAAW,MAAMF,GAAN,GAAY,GAAvB,CAAN;AACA,UAAI,CAACA,GAAG,CAACG,IAAJ,CAAS,KAAKV,KAAd,CAAD,IAAyB,KAAKA,KAAL,CAAWG,MAAX,GAAoB,CAA7C,IAAmDX,OAAO,GAAG,EAAV,IAAgBA,OAAO,GAAG,EAAjF,EAAsF,KAAKQ,KAAL,GAAaC,QAAb;AACtF,UAAIX,GAAG,CAACqB,IAAJ,KAAa,MAAb,IAAuB,KAAKX,KAAL,CAAWG,MAAX,GAAoB,CAA/C,EAAkD,KAAKH,KAAL,GAAa,EAAb;AACnD;AACF;;AAED,WAASY,eAAT,CAAyBC,KAAzB,EAAgC;AAC9BA,IAAAA,KAAK,CAACC,gBAAN,CAAuB,OAAvB,EAAgCzB,iBAAhC,EAAmD,KAAnD;AACAwB,IAAAA,KAAK,CAACC,gBAAN,CAAuB,OAAvB,EAAgCzB,iBAAhC,EAAmD,KAAnD;AACAwB,IAAAA,KAAK,CAACC,gBAAN,CAAuB,MAAvB,EAA+BzB,iBAA/B,EAAkD,KAAlD;AACAwB,IAAAA,KAAK,CAACC,gBAAN,CAAuB,SAAvB,EAAkCzB,iBAAlC,EAAqD,KAArD;AACD;;AAED,WAAS0B,gBAAT,GAA4B;AAC1B,QAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAAjB;AACAN,IAAAA,eAAe,CAACI,UAAD,CAAf;AACD;;AAEDG,EAAAA,MAAM,CAACL,gBAAP,CAAwB,kBAAxB,EAA4CC,gBAA5C;AACD,CAlDD","sourcesContent":["/* eslint-disable no-invalid-this */\n'use strict';\n\n(function () {\n  let PATTERN = '+7 (___) ___ ____';\n\n  function keyCodeProcessing(evt) {\n    if (evt.code === 'Tab') {\n      return;\n    }\n\n    let keyCode;\n    if (evt.keyCode) {\n      keyCode = evt.keyCode;\n      let pos = this.selectionStart;\n      if (pos < 3) evt.preventDefault();\n      let i = 0;\n      let def = PATTERN.replace(/\\D/g, '');\n      let val = this.value.replace(/\\D/g, '');\n      let newValue = PATTERN.replace(/[_\\d]/g, function (a) {\n        return i < val.length ? val.charAt(i++) || def.charAt(i) : a;\n      });\n      i = newValue.indexOf('_');\n      if (i !== -1) {\n        if (i < 5) {\n          i = 3;\n        }\n        newValue = newValue.slice(0, i);\n      }\n      let reg = PATTERN.substr(0, this.value.length)\n        .replace(/_+/g, function (a) {\n          return '\\\\d{1,' + a.length + '}';\n        })\n        .replace(/[+()]/g, '\\\\$&');\n      reg = new RegExp('^' + reg + '$');\n      if (!reg.test(this.value) || this.value.length < 5 || (keyCode > 47 && keyCode < 58)) this.value = newValue;\n      if (evt.type === 'blur' && this.value.length < 5) this.value = '';\n    }\n  }\n\n  function inputProcessing(input) {\n    input.addEventListener('input', keyCodeProcessing, false);\n    input.addEventListener('focus', keyCodeProcessing, false);\n    input.addEventListener('blur', keyCodeProcessing, false);\n    input.addEventListener('keydown', keyCodeProcessing, false);\n  }\n\n  function inputPhoneHolder() {\n    let inputPhone = document.querySelector('input[type=\"tel\"]');\n    inputProcessing(inputPhone);\n  }\n\n  window.addEventListener('DOMContentLoaded', inputPhoneHolder);\n})();\n"],"file":"input-validating.js"}